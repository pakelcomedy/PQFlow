<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Forgot & Reset Password — PQFlow Pro</title>

  <!-- PWA Manifest -->
  <link rel="manifest" href="../../manifest.json" />
  <!-- Favicon -->
  <link rel="icon" href="../../favicon.ico" />
  <!-- Global Styles -->
  <link rel="stylesheet" href="../../styles/style.css" />
</head>
<body>
  <!-- Skip Link -->
  <a href="#fp-form" class="skip-link">Skip to password form</a>

  <!-- HEADER -->
  <header class="site-header" role="banner">
    <div class="container">
      <a href="../../index.html" class="logo" aria-label="PQFlow Pro Home">PQFlow Pro</a>
      <nav class="main-nav" role="navigation">
        <ul>
          <li><a href="../../index.html">Home</a></li>
          <li><a href="login.html">Login</a></li>
          <li><a href="register.html">Sign Up</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- FORGOT & RESET SECTION -->
  <main id="main-content" class="login-page">
    <section class="login-section container" aria-labelledby="fp-title">
      <h1 id="fp-title">Forgot & Reset Password</h1>
      <p class="login-intro">
        1) Enter your email to receive an OTP<br>
        2) Enter the OTP and your new password below<br>
        3) Submit to reset your password
      </p>

      <!-- Status / Error Message -->
      <div id="fp-message" class="status-message" role="alert" aria-live="assertive"></div>

      <!-- Combined Form -->
      <form id="fp-form" action="#" method="post" novalidate>
        <!-- Step 1: Email -->
        <div class="form-group">
          <label for="fp-email">Email Address</label>
          <input
            type="email"
            id="fp-email"
            name="email"
            placeholder="you@example.com"
            required
            aria-required="true"
            autocomplete="username" />
        </div>

        <div class="form-group">
          <button type="button" id="send-otp-btn" class="btn btn-outline">
            Send OTP
          </button>
        </div>

        <!-- Step 2: OTP -->
        <div class="form-group">
          <label for="fp-otp">One-Time Password (OTP)</label>
          <input
            type="text"
            id="fp-otp"
            name="otp"
            placeholder="123456"
            required
            aria-required="true"
            autocomplete="one-time-code"
            maxlength="6" />
        </div>

        <!-- Step 3: New Password -->
        <div class="form-group">
          <label for="fp-password">New Password</label>
          <input
            type="password"
            id="fp-password"
            name="password"
            placeholder="••••••••"
            required
            aria-required="true"
            autocomplete="new-password" />
        </div>

        <div class="form-group">
          <label for="fp-confirm">Confirm Password</label>
          <input
            type="password"
            id="fp-confirm"
            name="confirmPassword"
            placeholder="••••••••"
            required
            aria-required="true"
            autocomplete="new-password" />
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            Reset Password
          </button>
        </div>

        <div class="form-footer">
          <a href="login.html" class="link">Back to Login</a>
          <span> | </span>
          <a href="register.html" class="link">Sign Up</a>
        </div>
      </form>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer" role="contentinfo">
    <div class="container footer-grid">
      <div class="footer-col">
        <a href="../../index.html" class="logo">PQFlow Pro</a>
        <p>&copy; 2025 PQFlow Pro. All rights reserved.</p>
      </div>
      <div class="footer-col">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="../../index.html#how-it-works">How It Works</a></li>
          <li><a href="../../index.html#features">Features</a></li>
          <li><a href="login.html">Login</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Language</h4>
        <div class="footer-actions">
          <button id="lang-en" class="lang-btn active" aria-pressed="true">EN</button>
          <button id="lang-id" class="lang-btn" aria-pressed="false">ID</button>
        </div>
      </div>
    </div>
  </footer>

  <!-- External JS (no inline scripts) -->
  <script src="../../scripts/utils.js"></script>
  <script src="../../scripts/auth.js"></script>
  <script src="../../scripts/otp-reset.js"></script>
  <script src="../../scripts/i18n.js"></script>
  <script src="../../scripts/pwa.js"></script>
</body>
</html>
